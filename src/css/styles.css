7:    <style>
8-        /* Basic reset */
9-        * { margin: 0; padding: 0; box-sizing: border-box; }
10-        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; background-color: #f5f5f5; padding-bottom: 180px; /* Space for fixed log output */ }
11-        .header { background-color: #1976d2; color: white; padding: 15px 20px; border-bottom: 3px solid #0d47a1; }
12-        .header-container { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; }
13-        .header h1 { font-size: 20px; }
14-        .header-right-controls { display: flex; align-items: center; gap: 15px; } /* Adjusted gap */
15-        .entity-selector-container, .consolidated-view-container, .db-status-container { display: flex; align-items: center; gap: 8px; }
16-        .consolidated-view-container label, .db-status-container span { font-weight: 500; color: white; }
17-        #consolidated-view-toggle { margin-left: 5px; height: 18px; width: 18px; vertical-align: middle; }
18-        #entity-selector { padding: 6px 10px; border-radius: 4px; border: 1px solid #0d47a1; background-color: white; color: #333; min-width: 180px; }
19-        #db-status-indicator { padding: 4px 8px; border-radius: 4px; font-size: 0.8em; }
20-        #db-status-indicator.connected { background-color: #4CAF50; color: white; }
21-        #db-status-indicator.offline { background-color: #f44336; color: white; }
22-        #db-status-indicator.local { background-color: #ff9800; color: white; }
23-        .user-info { display: flex; align-items: center; gap: 10px; }
24-        .user-info span { font-weight: 500; }
25-        .logout-button { background-color: #0d47a1; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; }
26-        .main-nav { background-color: #f0f0f0; padding: 10px 0; border-bottom: 1px solid #ddd; }
27-        .nav-container { display: flex; justify-content: center; gap: 20px; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
28-        .nav-item { padding: 8px 15px; border-radius: 4px; cursor: pointer; font-weight: 500; }
29-        .nav-item:hover { background-color: #e0e0e0; }
30-        .nav-item.active { background-color: #2196f3; color: white; }
31-        .container { display: flex; max-width: 1200px; margin: 20px auto; padding: 0 20px; gap: 20px; }
32-        .sidebar { width: 250px; background-color: white; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); padding: 20px; align-self: flex-start; }
33-        .sidebar-menu { list-style: none; padding-left: 0; }
34-        .sidebar-menu li { margin-bottom: 10px; }
35-        .sidebar-menu a { display: block; padding: 10px; color: #333; text-decoration: none; border-radius: 4px; cursor: pointer; }
36-        .sidebar-menu a:hover { background-color: #f0f0f0; }
37-        .sidebar-menu a.active { background-color: #e3f2fd; color: #1976d2; border-left: 3px solid #1976d2; font-weight: bold; }
38-        .main-content { flex: 1; background-color: white; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); padding: 20px; }
39-        .content-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
40-        .content-header h2 { margin: 0; font-size: 1.5em; }
41-        .action-button { background-color: #4caf50; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-weight: 500; }
42-        .action-button:hover { background-color: #43a047; }
43-        .btn-secondary { background-color: #757575; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-weight: 500; }
44-        .btn-secondary:hover { background-color: #616161; }
45-        .btn-danger { background-color: #d32f2f; color:white; }
46-        .btn-danger:hover { background-color: #c62828; }
47-        .data-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
48-        .data-table th, .data-table td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd; }
49-        .data-table th { background-color: #f9f9f9; font-weight: 600; }
50-        .data-table tbody tr:hover { background-color: #f5f5f5; }
51-        .page { display: none; } 
52-        .page.active { display: block; } 
53-        .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; margin-top: 20px; }
54-        .card { background-color: white; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); padding: 20px; border-top: 3px solid #1976d2; display: flex; flex-direction: column;}
55-        .card > p { flex-grow: 1; margin-bottom: 15px; }
56-        .card-title { font-size: 16px; margin-bottom: 8px; color: #555; }
57-        .card-value { font-size: 22px; font-weight: 600; color: #1976d2; }
58-        .dashboard-panel { display: none; } 
59-        .dashboard-panel.active { display: block; } 
60-        .mt-20 { margin-top: 20px; }
61-        .preview-placeholder { text-align: center; padding: 20px; color: #757575; font-style: italic; }
62-        #init-status-indicator { position: fixed; bottom: 0; left: 0; width: 100%; padding: 8px; text-align: center; font-weight: bold; z-index: 2000; }
63-        #init-status-indicator.initializing { background-color: #fff8e1; color: #ff8f00; border-top: 1px solid #ffecb3; }
64-        #init-status-indicator.success { background-color: #e8f5e9; color: #2e7d32; border-top: 1px solid #c8e6c9; }
65-        #init-status-indicator.error { background-color: #ffebee; color: #c62828; border-top: 1px solid #ffcdd2; }
66-        #log-output-container { margin: 20px auto; max-width: 1200px; padding: 0 20px; } 
67-        #log-output { padding: 10px; border: 1px solid #ddd; background-color: #f9f9f9; min-height: 80px; max-height: 150px; overflow-y: auto; white-space: pre-wrap; font-family: 'Courier New', Courier, monospace; font-size: 11px; }
68-        .log-entry { padding: 1px 0; border-bottom: 1px dotted #eee; }
69-        .log-step { color: #007bff; font-weight: bold; }
70-        .log-success { color: green; }
71-        .log-error { color: red; font-weight: bold; }
72-        .status { display: inline-block; padding: 4px 8px; border-radius: 30px; font-size: 12px; font-weight: 500; }
73-        .status-active { background-color: #e8f5e9; color: #2e7d32; }
74-        .status-inactive { background-color: #f5f5f5; color: #757575; }
75-        .status-posted { background-color: #e3f2fd; color: #1565c0;}
76-        .status-unposted, .status-draft { background-color: #fff8e1; color: #ffa000;}
77-         /* Modal Styles */
78-        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); display: none; justify-content: center; align-items: center; z-index: 9990; overflow-y: auto;}
79-        .modal-dialog { background-color: white; border-radius: 4px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); width: 100%; max-width: 600px; margin: 20px; display: flex; flex-direction: column; }
80-        .modal-dialog-lg { max-width: 900px; } 
81-        .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 1px solid #eee; }
82-        .modal-title { font-size: 18px; font-weight: 600; }
83-        .modal-close-btn { background: none; border: none; font-size: 1.5em; cursor: pointer; }
84-        .modal-body { padding: 20px; max-height: calc(80vh - 120px); overflow-y: auto; } 
85-        .modal-footer { padding: 15px 20px; border-top: 1px solid #eee; display: flex; justify-content: flex-end; gap: 10px; background-color: #f9f9f9; }
86-        .form-group { margin-bottom: 15px; }
87-        .form-label { display: block; margin-bottom: 5px; font-weight: 500; }
88-        .form-input, select.form-input, textarea.form-input { width: 100%; padding: 8px 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: inherit; }
89-        .form-input:focus, select.form-input:focus, textarea.form-input:focus { outline: none; border-color: #1976d2; box-shadow: 0 0 0 2px rgba(25,118,210,0.2); }
90-        .form-input[type="checkbox"] { width: auto; margin-right: 8px; vertical-align: middle; }
91-        .form-row { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 10px; }
92-        .form-column { flex: 1; min-width: 200px; }
93-        .form-section { margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #eee; }
94-        .form-section:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
95-        .tab-container { margin-top: 15px; }
96-        .tab-menu { display: flex; border-bottom: 1px solid #ddd; }
97-        .tab-item { padding: 8px 15px; cursor: pointer; border: 1px solid transparent; margin-bottom: -1px; }
98-        .tab-item.active { border-color: #ddd #ddd white #ddd; border-radius: 4px 4px 0 0; background-color: white; }
99-        .tab-content { padding: 15px; border: 1px solid #ddd; border-top: none; }
100-        .tab-panel { display: none; }
101-        .tab-panel.active { display: block; }
102-        #entity-relationship-viz { border: 1px dashed #ccc; padding: 20px; text-align: left; color: #555; margin-top: 20px; min-height: 150px; background-color: #fdfdfd; border-radius: 4px; }
103-        #entity-relationship-viz ul { list-style-type: none; padding-left: 0; }
104-        #entity-relationship-viz li { margin-bottom: 5px; padding: 2px 0; }
105-        #entity-relationship-viz ul ul { padding-left: 20px; border-left: 1px solid #eee; margin-left: 5px; }
106-        .report-view { display: none; } .report-view.active { display: block; }
107-        .reports-gallery { display: block; } .reports-gallery.active { display: block; } .reports-gallery:not(.active) { display: none; }
108-        .report-container { background-color: white; padding: 30px; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
109-        .report-header { text-align: center; margin-bottom: 30px; }
110-        .report-title { font-size: 22px; font-weight: 600; margin-bottom: 5px; }
111-        .report-subtitle { font-size: 16px; color: #666; margin-bottom: 5px; }
112-        .report-date { font-size: 14px; color: #666; }
113-        .report-actions { margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
114-        .report-tools { display: flex; gap: 10px; }
115-        .report-footer { margin-top: 30px; font-size: 12px; color: #666; text-align: center; }
116-        .custom-report-card { background-color: #f9f9f9; border-left: 5px solid #4caf50; }
117-        .report-toolbar { display: flex; justify-content: flex-start; gap: 10px; margin-top: auto; padding-top: 15px; }
118-        .report-toolbar button { font-size: 13px; padding: 6px 10px; }
119-        .field-selector { border: 1px solid #ddd; border-radius: 4px; height: 200px; overflow-y: auto; padding: 10px; background: #f9f9f9; }
120-        .field-item { padding: 8px 10px; border-bottom: 1px solid #eee; cursor: pointer; }
121-        .field-item:last-child { border-bottom: none; }
122-        .field-item:hover { background-color: #f0f0f0; }
123-        .selected-fields-container { border: 1px solid #ddd; border-radius: 4px; min-height: 100px; max-height: 200px; overflow-y: auto; padding: 10px; }
124-        .selected-field { display: flex; justify-content: space-between; align-items: center; padding: 8px; background: #e3f2fd; border-radius: 4px; margin-bottom: 5px; }
125-        .selected-field:last-child { margin-bottom: 0; }
126-        .selected-field button.remove-selected-field { background: none; border: none; color: #757575; cursor: pointer; font-size: 16px; line-height: 1; padding: 0 5px; }
127-        .selected-field button.remove-selected-field:hover { color: #d32f2f; }
128-        #report-builder-filter-container .filter-row { display: flex; gap: 10px; margin-bottom: 10px; align-items: center; }
129-        #report-builder-filter-container .filter-row:last-child { margin-bottom: 0; }
130-        #report-builder-filter-container .btn-remove-filter { padding: 5px 8px; line-height: 1; }
131-        .report-preview { border: 1px solid #ddd; border-radius: 4px; padding: 15px; margin-top: 20px; background-color: #f9f9f9; min-height: 100px; max-height: 300px; overflow: auto; }
132-        .inter-entity-fields { display: none; border-top: 1px dashed #ccc; margin-top: 20px; padding-top: 20px; }
133-        .inter-entity-fields.active { display: block; }
134-        .text-right { text-align: right; }
135-    </style>
136-    <!-- Database connection scripts - these are conceptual for a frontend-only app -->
137-    <!-- In a real app, these would be backend logic, not client-side scripts -->
138-    <script src="src/db/db-config.js" defer></script> 
139-    <script src="src/db/db-connection-browser.js" defer></script>
140-    <script src="src/js/db.js" defer></script>
141-</head>
142-<body>
143-    <div class="header">
144-        <div class="header-container">
145-            <h1>Fund Accounting System (v7.0 Reports Complete)</h1>
146-            <div class="header-right-controls">
147-                <div class="db-status-container">
148-                    <span id="db-status-indicator" class="offline">DB Offline</span>
149-                </div>
150-                <div class="consolidated-view-container">
151-                    <label for="consolidated-view-toggle">Consolidated View:</label>
152-                    <input type="checkbox" id="consolidated-view-toggle">
153-                </div>
154-                <div class="entity-selector-container">
155-                    <label for="entity-selector" style="font-weight: 500; color: white;">Entity:</label>
156-                    <select id="entity-selector">
157-                        <option value="">Loading Entities...</option>
158-                    </select>
159-                </div>
160-                <div class="user-info"><span>User</span><button class="logout-button" id="btnLogout">Logout</button></div>
161-            </div>
162-        </div>
163-    </div>
164-
165-    <div class="main-nav" id="mainNavContainer"> 
166-        <div class="nav-container">
167-            <div class="nav-item active" data-page="dashboard">Dashboard</div>
168-            <div class="nav-item" data-page="chart-of-accounts">Chart of Accounts</div>
169-            <div class="nav-item" data-page="funds">Funds</div>
170-            <div class="nav-item" data-page="journal-entries">Journal Entries</div>
171-            <div class="nav-item" data-page="reports">Reports</div>
172-            <div class="nav-item" data-page="settings">Settings</div>
173-        </div>
174-    </div>
175-
176-    <div class="main-content">
177-        <div id="dashboard-page" class="page active">
178-            <div class="content-header">
179-                <h2 id="dashboard-title">Dashboard</h2>
180-                <span id="dashboard-current-entity" style="margin-left:15px;font-size:0.9em;color:#555;"></span>
181-                <button class="action-button" id="btnPrintDashboard">Print Report</button>
182-            </div>
183-            <div id="financial-overview-panel" class="dashboard-panel active">
184-                <div class="card-grid" id="dashboard-summary-cards"><p class="preview-placeholder">Dashboard cards loading...</p></div>
185-                <h3 class="mt-20">Fund Balances</h3>
186-                <table class="data-table" id="dashboard-fund-balances-table">
187-                    <thead><tr><th>Fund Name</th><th>Type</th><th>Balance</th><th>% of Total</th></tr></thead>
188-                    <tbody><tr><td colspan="4" class="preview-placeholder">Fund balances loading...</td></tr></tbody>
189-                </table>
190-            </div>
191-            <div id="recent-transactions-panel" class="dashboard-panel">
192-                <h3>Recent Transactions</h3>
193-                <table class="data-table" id="dashboard-recent-transactions-table">
194-                     <thead><tr><th>Date</th><th>Reference</th><th>Description</th><th>Amount</th><th>Status</th></tr></thead>
195-                     <tbody><tr><td colspan="5" class="preview-placeholder">Recent transactions loading...</td></tr></tbody>
196-                </table>
197-            </div>
198-             <div id="unposted-entries-panel" class="dashboard-panel">
199-                <h3 class="mt-20">Unposted Journal Entries</h3>
200-                <table class="data-table" id="dashboard-unposted-entries-table">
201-                    <thead><tr><th>Date</th><th>Reference</th><th>Description</th><th>Amount</th><th>Created By</th><th>Actions</th></tr></thead>
202-                    <tbody><tr><td colspan="6" class="preview-placeholder">Unposted entries loading...</td></tr></tbody>
203-                </table>
204-            </div>
205-            <div id="budget-analysis-panel" class="dashboard-panel"><h3 class="mt-20">Budget Analysis</h3><table class="data-table" id="dashboard-budget-analysis-table"><thead><tr><th>Category</th><th>Budget</th><th>Actual</th><th>Variance</th><th>% Used</th></tr></thead><tbody></tbody></table></div>
206-            <div id="fund-balances-panel" class="dashboard-panel"><h3 class="mt-20">Fund Balances (Detailed)</h3><table class="data-table" id="dashboard-fund-balances-detailed-table"><thead><tr><th>Fund ID</th><th>Fund Name</th><th>Type</th><th>Beginning Balance</th><th>Revenue</th><th>Expenses</th><th>Current Balance</th></tr></thead><tbody></tbody></table></div>
